{"version":3,"sources":["utils/Api.js","context/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["api","baseUrl","authorization","contentType","this","headers","fetch","method","then","res","ok","json","Promise","reject","statusText","data","body","JSON","stringify","avatar","idCard","value","CurrentUserContext","createContext","Header","className","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","_id","name","link","owner","likes","isOwn","isLiked","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","type","src","alt","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","about","map","Footer","ImagePopup","selectedCard","isOpen","onClose","PopupWithForm","title","buttonTitle","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","handleSubmit","useCallback","e","preventDefault","placeholder","minLength","maxLength","required","autoComplete","onChange","target","id","EditAvatarPopup","onUpdateAvatar","inputElement","useRef","current","ref","App","isEditProfilePopupOpen","setEditProfileClick","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setIsOpen","setCard","setCurrentUser","setCards","getUserInfo","catch","error","console","log","getCard","closeAllPopups","setOpen","Provider","handleSelectCard","deleteCard","_","newCards","filter","cardId","changeLikeCardStatus","newCard","c","setUserInfo","finally","setUserAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NA2HeA,EADH,IA1HZ,WACE,WAAaC,EAASC,EAAeC,GAAe,oBAClDC,KAAKC,QAAU,CAAEH,cAAeA,EAAe,eAAgBC,GAC/DC,KAAKH,QAAUA,EAHnB,sDAOI,OAAOK,MAAM,GAAD,OAAMF,KAAKH,QAAX,SAA4B,CACtCM,OAAQ,MACRF,QAASD,KAAKC,UAEbG,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBAf/C,oCAoBI,OAAOR,MAAM,GAAD,OAAMF,KAAKH,QAAX,YAA+B,CACzCM,OAAQ,MACRF,QAASD,KAAKC,UAEbG,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBA5B/C,kCAgCeC,GACX,OAAOT,MAAM,GAAD,OAAMF,KAAKH,QAAX,YACV,CACEM,OAAQ,QACRF,QAASD,KAAKC,QACdW,KAAMC,KAAKC,UAAWH,KAEvBP,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBA3C/C,oCA+CiBC,GACb,OAAOT,MAAM,GAAD,OAAMF,KAAKH,QAAX,mBACV,CACEM,OAAQ,QACRF,QAASD,KAAKC,QACdW,KAAMC,KAAKC,UAAW,CAAEC,OAAQJ,MAEjCP,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBA1D/C,8BA8DWC,GACP,OAAOT,MAAM,GAAD,OAAMF,KAAKH,QAAX,SACV,CACEM,OAAQ,OACRF,QAASD,KAAKC,QACdW,KAAMC,KAAKC,UAAWH,KAEvBP,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBAzE/C,iCA6EcM,GACV,OAAOd,MAAM,GAAD,OAAMF,KAAKH,QAAX,iBAA6BmB,GACvC,CACEb,OAAQ,SACRF,QAASD,KAAKC,UAEfG,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,kBAvF/C,2CA2FwBM,EAAQC,GAC5B,OAAIA,EACKf,MAAM,GAAD,OAAMF,KAAKH,QAAX,uBAAmCmB,GAC7C,CACEb,OAAQ,MACRF,QAASD,KAAKC,UAEfG,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,gBAGtCR,MAAM,GAAD,OAAMF,KAAKH,QAAX,uBAAmCmB,GAC7C,CACEb,OAAQ,SACRF,QAASD,KAAKC,UAEfG,MAAM,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA4BJ,EAAIK,oBAlH/C,KA0HY,CAHI,+CACM,uCACF,oBCrHLQ,EADYC,wBAAe,ICK3BC,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKA,UAAU,oBCCN,SAASC,EAAT,GAAkE,IAAjDC,EAAgD,EAAhDA,KAAMC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,aACvDC,EAAcC,qBAAYV,GACxBW,EAAkCN,EAAlCM,IAAKC,EAA6BP,EAA7BO,KAAMC,EAAuBR,EAAvBQ,KAAMC,EAAiBT,EAAjBS,MAAOC,EAAUV,EAAVU,MAC1BC,EAAQF,EAAMH,MAAQF,EAAYE,IAClCM,EAAUF,EAAMG,MAAM,SAAAC,GAAC,OAAIA,EAAER,MAAQF,EAAYE,OACjDS,EAAyB,2BACRJ,EAAQ,8BAAgC,8BAEzDK,EAAuB,2BAAwBJ,GAAW,2BAMhE,OACE,qBAAId,UAAU,0BAAd,UACE,wBAAQA,UAAYiB,EACZE,QAAU,kBAAMd,EAAcG,IAC9BY,KAAK,WACb,qBAAKC,IAAMX,EACNY,IAAMb,EACNT,UAAU,gBACVmB,QAZe,WACtBhB,EAAa,CAAEO,OAAMD,YAYnB,sBAAKT,UAAU,wBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAiCS,IACjC,wBAAQW,KAAK,SACLD,QAAU,kBAAMf,EAAY,CAAEQ,QAAOD,QAAOH,SAC5CR,UAAYkB,EAFpB,SAGE,sBAAMlB,UAAU,yBAAhB,SAA2CY,EAAMW,iBCoB5CC,MA/Cf,YAQoB,IAPHC,EAOE,EAPFA,cACAC,EAME,EANFA,WACAC,EAKE,EALFA,aACAxB,EAIE,EAJFA,YACAyB,EAGE,EAHFA,MACAxB,EAEE,EAFFA,WACAC,EACE,EADFA,aACE,EACeE,qBAAYV,GAApCY,EADS,EACTA,KAAMoB,EADG,EACHA,MAAOnC,EADJ,EACIA,OAErB,OACE,uBAAMM,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BACVmB,QAAUQ,EADf,UAEE,qBAAK3B,UAAU,4BACf,qBAAKqB,IAAM3B,EACN4B,IAAI,kFACJtB,UAAU,uBAEjB,sBAAKA,UAAU,gBACVmB,QAAUM,EADf,UAEE,sBAAKzB,UAAU,yBAAf,UACE,oBAAIA,UAAU,qBAAd,SAAqCS,IACrC,wBAAQW,KAAK,SACLpB,UAAU,yBAEpB,mBAAGA,UAAU,iBAAb,SAAgC6B,OAElC,wBAAQT,KAAK,SACLpB,UAAU,mBACVmB,QAAUO,OAEpB,oBAAI1B,UAAU,WAAd,SAEI4B,EAAME,KAAK,SAAE5B,GAAF,OAAY,cAACD,EAAD,CACMC,KAAOA,EACPC,YAAcA,EACdC,WAAa,SAAEF,GAAF,OAAYE,EAAYF,IACrCG,aAAeA,GAJTH,EAAKM,cCjCnCuB,MARf,WACE,OACE,wBAAQ/B,UAAU,SAAlB,SACE,qBAAKA,UAAU,oBAAf,sCCeSgC,MAlBf,YAAqD,IAAhCC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,OAAQC,EAAS,EAATA,QACzC,OACE,qBAAKnC,UAAS,8BAAyBkC,GAAU,gBAAjD,SACE,yBAAQlC,UAAU,iBAAlB,UACE,wBACEoB,KAAK,SACLpB,UAAU,mBACVmB,QAAUgB,IACZ,qBACEnC,UAAU,qBACVqB,IAAMY,EAAavB,KACnBY,IAAMW,EAAaxB,OACrB,4BACET,UAAU,6BADZ,SAC2CiC,EAAaxB,aCoBjD2B,MAjCf,YAQ6B,IAPHC,EAOE,EAPFA,MACA5B,EAME,EANFA,KACA6B,EAKE,EALFA,YACAC,EAIE,EAJFA,SACAL,EAGE,EAHFA,OACAC,EAEE,EAFFA,QACAK,EACE,EADFA,SAExB,OACE,qBAAKxC,UAAS,2BAAwBS,EAAxB,YAAkCyB,GAAU,gBAA1D,SACE,sBAAKlC,UAAU,mBAAf,UACE,wBACEoB,KAAK,SACLpB,UAAU,mBACVmB,QAAUgB,IACZ,oBAAInC,UAAU,eAAd,SAA+BqC,IAC/B,uBACErC,UAAU,cACVwC,SAAWA,EACXC,YAAU,EAHZ,UAIIF,EACF,wBACEvC,UAAU,kBACVoB,KAAK,SAFP,SAGIkB,aCpBC,SAASI,EAAT,GAAgE,IAAnCR,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,QAASQ,EAAiB,EAAjBA,aACrDrC,EAAcC,qBAAYV,GAD4C,EAElD+C,mBAAU,IAFwC,mBAEpEnC,EAFoE,KAE9DoC,EAF8D,OAGpCD,mBAAU,IAH0B,mBAGpEE,EAHoE,KAGvDC,EAHuD,KAK5EC,qBAAW,WACTH,EAASvC,EAAYG,MACrBsC,EAAgBzC,EAAYuB,SAC3B,CAAEvB,EAAa4B,IAElB,IAQMe,EAAeC,uBAAa,SAAAC,GAChCA,EAAEC,iBACFT,EAAc,CACZlC,KAAMA,EACNoB,MAAOiB,MAER,CAAErC,EAAMqC,IAEX,OACE,cAAC,EAAD,CACErC,KAAO,eACP4B,MAAQ,4HACRC,YAAc,yDACdJ,OAASA,EACTC,QAAUA,EACVK,SAAWS,EANb,SAOE,qCACE,wBAAOjD,UAAU,eAAjB,UACE,uBACEoB,KAAK,OACLX,KAAK,wBACLT,UAAU,sCACVqD,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,aAAa,MACb7D,MAAQa,GAAQ,GAChBiD,SApCS,SAAAP,GACjBN,EAASM,EAAEQ,OAAO/D,UAoCZ,sBAAMI,UAAU,oBAAoB4D,GAAG,mCAEzC,wBAAO5D,UAAU,eAAjB,UACE,uBACEoB,KAAK,OACLX,KAAK,+BACLT,UAAU,uCACVqD,YAAY,yDACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,aAAa,MACb7D,MAAQkD,GAAe,GACvBY,SA9CgB,SAAAP,GACxBJ,EAAgBI,EAAEQ,OAAO/D,UA8CnB,sBAAMI,UAAU,oBACV4D,GAAG,+CC/DJ,SAASC,EAAT,GAAiE,IAArC3B,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,QAAS2B,EAAmB,EAAnBA,eACpDC,EAAeC,iBAAQ,MAM7B,OACE,cAAC,EAAD,CACEvD,KAAO,cACP4B,MAAQ,wFACRC,YAAc,yDACdJ,OAASA,EACTC,QAAUA,EACVK,SAZiB,SAAAW,GACnBA,EAAEC,iBACFU,EAAgBC,EAAaE,QAAQrE,QAIrC,SAOE,wBAAOI,UAAU,eAAjB,UACE,uBACEkE,IAAMH,EACN3C,KAAK,MACLX,KAAK,0BACLT,UAAU,wCACVqD,YAAY,uHACZG,UAAQ,EACRC,aAAa,QACf,sBAAMzD,UAAU,oBACV4D,GAAG,uCCzBF,SAASC,EAAT,GAA6D,IAAjC3B,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAAST,EAAe,EAAfA,WACpDjB,EAAOuD,iBAAQ,MACftD,EAAOsD,iBAAQ,MAKrB,OACE,eAAC,EAAD,CACEvD,KAAO,WACP4B,MAAQ,gEACRC,YAAc,mDACdJ,OAASA,EACTC,QAAUA,EACVK,SAXiB,SAAAW,GACnBA,EAAEC,iBACF1B,EAAY,CAAEjB,KAAMA,EAAKwD,QAAQrE,MAAOc,KAAMA,EAAKuD,QAAQrE,SAG3D,UAOE,wBAAOI,UAAU,eAAjB,UACE,uBACEkE,IAAMzD,EACNW,KAAK,OACLX,KAAK,yBACLT,UAAU,uCACVqD,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,aAAa,QACf,sBAAMzD,UAAU,oBACV4D,GAAG,oCAEX,wBAAO5D,UAAU,eAAjB,UACE,uBACEkE,IAAMxD,EACNU,KAAK,MACLX,KAAK,uBACLT,UAAU,6CACVqD,YAAY,qGACZG,UAAQ,EACRC,aAAa,QACf,sBAAMzD,UAAU,oBACV4D,GAAG,qCC6GFO,MA5If,WAAe,MAE2CvB,oBAAU,GAFrD,mBAELwB,EAFK,KAEmBC,EAFnB,OAGyCzB,oBAAU,GAHnD,mBAGL0B,EAHK,KAGgBC,EAHhB,OAI6C3B,oBAAU,GAJvD,mBAIL4B,EAJK,KAIkBC,EAJlB,OAKiB7B,oBAAU,GAL3B,mBAKLV,EALK,KAKGwC,EALH,OAMqB9B,mBAAU,IAN/B,mBAMLX,EANK,KAMS0C,EANT,OAO2B/B,mBAAU,IAPrC,mBAOLtC,EAPK,KAOQsE,EAPR,OAQehC,mBAAU,IARzB,mBAQLhB,EARK,KAQEiD,EARF,KAWb7B,qBAAW,WACTzE,EAAIuG,cACD/F,MAAM,SAAEC,GACP4F,EAAgB5F,MAEjB+F,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,QAC/B,IAEHhC,qBAAW,WACTzE,EAAI4G,UACDpG,MAAM,SAAEO,GACPuF,EAAUvF,MAEXyF,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,QAC/B,IAGH,IAAMI,EAAiB,SAAEC,GACvBA,GAAS,IA2EX,OACE,cAAC,EAAmBC,SAApB,CAA6B1F,MAAQU,EAArC,SACE,qBAAKN,UAAU,OAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEyB,cAAgB,WA7ExB4C,GAAqB,IA8Eb3C,WAAa,WA1ErB6C,GAAsB,IA2Ed5C,aAAe,WAvEvB8C,GAAwB,IAwEhBtE,YAAc,SAAEb,GAAF,OArEC,SAAEA,GACzBqF,EAASrF,GACToF,GAAW,GAmEuBa,CAAkBjG,IAC5CsC,MAAQA,EACRvB,aApBe,SAAEuD,GACzBrF,EAAIiH,WAAY5B,GACb7E,MAAM,SAAA0G,GACL,IAAMC,EAAW9D,EAAM+D,QAAQ,SAAEzF,GAAF,OAAY0D,IAAO1D,EAAKM,OACvDqE,EAAUa,MAEXX,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,OAexB5E,WAhCa,SAAEF,GAAW,IAC1BU,EAAuBV,EAAvBU,MAAYgF,EAAW1F,EAAhBM,IACTM,EAAUF,EAAMG,MAAM,SAAAC,GAAC,OAAIA,EAAER,MAAQF,EAAYE,OACvDjC,EAAIsH,qBAAsBD,GAAS9E,GAChC/B,MAAM,SAAE+G,GACP,IAAMJ,EAAW9D,EAAME,KAAK,SAAEiE,GAAF,OAASA,EAAEvF,MAAQoF,EAASE,EAAUC,KAClElB,EAAUa,MAEXX,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,SAyB1B,cAAC,EAAD,IACA,cAACtC,EAAD,CACER,OAASkC,EACTjC,QAAU,kBAAMiD,EAAgBf,IAChC1B,aAxEe,SAAErD,GACzBf,EAAIyH,YAAa1G,GACdP,MAAM,SAAAC,GACL4F,EAAgB5F,MAEjB+F,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,MAC7BiB,SAAS,WACRb,EAAgBf,SAkEd,cAACR,EAAD,CACE3B,OAASsC,EACTrC,QAAU,kBAAMiD,EAAgBX,IAChCX,eAjEiB,SAAExE,GAC3Bf,EAAI2H,cAAe5G,GAChBP,MAAM,SAAAC,GACL4F,EAAgB5F,MAEjB+F,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,MAC7BiB,SAAS,WACRb,EAAgBX,SA2Dd,cAAC,EAAD,CACEvC,OAASoC,EACTnC,QAAU,kBAAMiD,EAAgBb,IAChC7C,WA1DmB,SAAEpC,GAC7Bf,EAAI4H,QAAS7G,GACVP,MAAM,SAAE+G,GACPjB,GAAU,SAAEjD,GACV,MAAM,CAAGkE,GAAT,mBAAqBlE,UAGxBmD,OAAO,SAAAC,GAAK,OAAIC,QAAQC,IAAKF,MAC7BiB,SAAS,WACRb,EAAgBb,SAkDd,cAAC,EAAD,CACErC,OAASA,EACTD,aAAeA,EACfE,QAAU,kBAAMiD,EAAgBV,cC3I5C0B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAgB,W","file":"static/js/main.f34771a3.chunk.js","sourcesContent":["export class Api {\n  constructor( baseUrl, authorization, contentType ) {\n    this.headers = { authorization: authorization, \"Content-Type\": contentType };\n    this.baseUrl = baseUrl;\n  }\n  \n  getCard() {\n    return fetch( `${ this.baseUrl }cards`, {\n      method: \"GET\",\n      headers: this.headers\n    } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  getUserInfo() {\n    return fetch( `${ this.baseUrl }users/me`, {\n      method: \"GET\",\n      headers: this.headers\n    } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  setUserInfo( data ) {\n    return fetch( `${ this.baseUrl }users/me`,\n      {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify( data )\n      } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  setUserAvatar( data ) {\n    return fetch( `${ this.baseUrl }users/me/avatar`,\n      {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify( { avatar: data } )\n      } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  addCard( data ) {\n    return fetch( `${ this.baseUrl }cards`,\n      {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify( data )\n      } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  deleteCard( idCard ) {\n    return fetch( `${ this.baseUrl }cards/${ idCard }`,\n      {\n        method: \"DELETE\",\n        headers: this.headers,\n      } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n  \n  changeLikeCardStatus( idCard, value ) {\n    if (value) {\n      return fetch( `${ this.baseUrl }cards/likes/${ idCard }`,\n        {\n          method: \"PUT\",\n          headers: this.headers,\n        } )\n        .then( res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject( `Ошибка: ${ res.statusText }` )\n        } )\n    }\n    return fetch( `${ this.baseUrl }cards/likes/${ idCard }`,\n      {\n        method: \"DELETE\",\n        headers: this.headers,\n      } )\n      .then( res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject( `Ошибка: ${ res.statusText }` )\n      } )\n  }\n}\n\nconst baseUrl = \"https://mesto.nomoreparties.co/v1/cohort-16/\";\nconst authorization = \"0227e00e-2fc2-48f1-b527-44b2f5fab9ba\";\nconst contentType = \"application/json\";\nconst api = new Api( baseUrl, authorization, contentType );\nexport default api;","import { createContext } from \"react\";\n\n\nconst CurrentUserContext = createContext( {} );\nexport default CurrentUserContext;","function Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { useContext } from \"react\"\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\n\nexport default function Card( { card, onCardClick, onCardLike, onCardDelete } ) {\n  const currentUser = useContext( CurrentUserContext );\n  const { _id, name, link, owner, likes } = card;\n  const isOwn = owner._id === currentUser._id;\n  const isLiked = likes.some( i => i._id === currentUser._id );\n  const cardDeleteButtonClassName = (\n    `card-box__delete ${ isOwn ? \"card-box__delete_is-visible\" : \"card-box__delete_is-hidden\" }`\n  );\n  const cardLikeButtonClassName = `card-box__button ${ isLiked && \"card-box_button-checked\" }`;\n  \n  const handleCardClick = () => {\n    onCardClick( { link, name } );\n  };\n  \n  return (\n    <li className=\"card-box elements__item\">\n      <button className={ cardDeleteButtonClassName }\n              onClick={ () => onCardDelete( _id ) }\n              type=\"button\"/>\n      <img src={ link }\n           alt={ name }\n           className=\"card-box__img\"\n           onClick={ handleCardClick }/>\n      <div className=\"card-box__description\">\n        <h2 className=\"card-box__text\">{ name }</h2>\n        <button type=\"button\"\n                onClick={ () => onCardLike( { likes, owner, _id } ) }\n                className={ cardLikeButtonClassName }>\n          <span className=\"card-box__button_likes\">{ likes.length }</span>\n        </button>\n      </div>\n    </li>\n  )\n}","import { useContext } from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\n\nfunction Main( {\n                 onEditProfile,\n                 onAddPlace,\n                 onEditAvatar,\n                 onCardClick,\n                 cards,\n                 onCardLike,\n                 onCardDelete\n               } ) {\n  const { name, about, avatar } = useContext( CurrentUserContext );\n  \n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar_container\"\n             onClick={ onEditAvatar }>\n          <div className=\"profile__avatar_overlay\"/>\n          <img src={ avatar }\n               alt=\"Аватар профиля\"\n               className=\"profile__avatar\"/>\n        </div>\n        <div className=\"profile__info\"\n             onClick={ onEditProfile }>\n          <div className=\"profile__info-name-box\">\n            <h1 className=\"profile__info-name\">{ name }</h1>\n            <button type=\"button\"\n                    className=\"profile__edit-btn\"/>\n          </div>\n          <p className=\"profile__about\">{ about }</p>\n        </div>\n        <button type=\"button\"\n                className=\"profile__add-btn\"\n                onClick={ onAddPlace }/>\n      </section>\n      <ul className=\"elements\">\n        {\n          cards.map( ( card ) => <Card key={ card._id }\n                                       card={ card }\n                                       onCardClick={ onCardClick }\n                                       onCardLike={ ( card ) => onCardLike( card ) }\n                                       onCardDelete={ onCardDelete }/> )\n        }\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__copyright\">&copy;2020 Mesto Russia</div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function ImagePopup({selectedCard, isOpen, onClose}){\n  return (\n    <div className={`popup popup_preview ${isOpen && \"popup_opened\" }`}>\n      <figure className=\"popup__img-box\">\n        <button\n          type=\"button\"\n          className=\"popup__close-btn\"\n          onClick={ onClose }/>\n        <img\n          className=\"popup__img-preview\"\n          src={ selectedCard.link }\n          alt={ selectedCard.name }/>\n        <figcaption\n          className=\"popup__preview-description\">{ selectedCard.name }</figcaption>\n      </figure>\n    </div>\n  )\n}\nexport default ImagePopup;","function PopupWithForm( {\n                          title,\n                          name,\n                          buttonTitle,\n                          children,\n                          isOpen,\n                          onClose,\n                          onSubmit\n                        } ) {\n  return (\n    <div className={ `popup popup_type_${ name } ${ isOpen && \"popup_opened\" }` }>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-btn\"\n          onClick={ onClose }/>\n        <h2 className=\"popup__title\">{ title }</h2>\n        <form\n          className=\"popup__form\"\n          onSubmit={ onSubmit }\n          noValidate>\n          { children }\n          <button\n            className=\"popup__form-btn\"\n            type=\"submit\">\n            { buttonTitle }\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\n\n\nexport default function EditProfilePopup( { isOpen, onClose, onUpdateUser } ) {\n  const currentUser = useContext( CurrentUserContext );\n  const [ name, setName ] = useState( \"\" );\n  const [ description, setDescription ] = useState( \"\" );\n  \n  useEffect( () => {\n    setName( currentUser.name )\n    setDescription( currentUser.about )\n  }, [ currentUser, isOpen ] );\n  \n  const handleName = e => {\n    setName( e.target.value );\n  };\n  \n  const handleDescription = e => {\n    setDescription( e.target.value );\n  };\n  \n  const handleSubmit = useCallback( e => {\n    e.preventDefault();\n    onUpdateUser( {\n      name: name,\n      about: description,\n    } );\n  }, [ name, description ] );\n  \n  return (\n    <PopupWithForm\n      name={ \"edit-profile\" }\n      title={ \"Редактировать профиль\" }\n      buttonTitle={ \"Сохранить\" }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }>{\n      <>\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"popup-input_type_name\"\n            className=\"popup__input popup__input_type_name\"\n            placeholder=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n            autoComplete=\"off\"\n            value={ name || \"\" }\n            onChange={ handleName }/>\n          <span className=\"popup__form-error\" id=\"popup-input_type_name-error\"/>\n        </label>\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"popup-input_type_description\"\n            className=\"popup__input popup__input_type_about\"\n            placeholder=\"Профессия\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            autoComplete=\"off\"\n            value={ description || \"\" }\n            onChange={ handleDescription }/>\n          <span className=\"popup__form-error\"\n                id=\"popup-input_type_description-error\"/>\n        </label>\n      </>\n    }</PopupWithForm>\n  )\n}","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nexport default function EditAvatarPopup( { isOpen, onClose, onUpdateAvatar } ) {\n  const inputElement = useRef( null );\n  const handleSubmit = e => {\n    e.preventDefault();\n    onUpdateAvatar( inputElement.current.value )\n  };\n  \n  return (\n    <PopupWithForm\n      name={ \"edit-avatar\" }\n      title={ \"Обновить аватар\" }\n      buttonTitle={ \"Сохранить\" }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }>\n      <label className=\"popup__label\">\n        <input\n          ref={ inputElement }\n          type=\"url\"\n          name=\"popup-input_type_avatar\"\n          className=\"popup__input popup__input_type_avatar\"\n          placeholder=\"Ссылка на изображение\"\n          required\n          autoComplete=\"off\"/>\n        <span className=\"popup__form-error\"\n              id=\"popup-input_type_avatar-error\"/>\n      </label>\n    </PopupWithForm>\n  )\n}\n","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nexport default function EditAvatarPopup( { isOpen, onClose, onAddPlace } ) {\n  const name = useRef( null );\n  const link = useRef( null );\n  const handleSubmit = e => {\n    e.preventDefault();\n    onAddPlace( { name: name.current.value, link: link.current.value } )\n  };\n  return (\n    <PopupWithForm\n      name={ \"add-card\" }\n      title={ \"Новое место\" }\n      buttonTitle={ \"Добавить\" }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }>\n      <label className=\"popup__label\">\n        <input\n          ref={ name }\n          type=\"text\"\n          name=\"popup-input_type_place\"\n          className=\"popup__input popup__input_type_place\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          autoComplete=\"off\"/>\n        <span className=\"popup__form-error\"\n              id=\"popup-input_type_place-error\"/>\n      </label>\n      <label className=\"popup__label\">\n        <input\n          ref={ link }\n          type=\"url\"\n          name=\"popup-input_type_url\"\n          className=\"popup__input popup__input_type_destination\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          autoComplete=\"off\"/>\n        <span className=\"popup__form-error\"\n              id=\"popup-input_type_url-error\"/>\n      </label>\n    </PopupWithForm>\n  )\n}","import { useEffect, useState } from \"react\";\nimport api from \"../utils/Api\";\nimport CurrentUserContext from \"../context/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\n\nfunction App() {\n  //states\n  const [ isEditProfilePopupOpen, setEditProfileClick ] = useState( false );\n  const [ isAddPlacePopupOpen, setAddPlacePopupOpen ] = useState( false );\n  const [ isEditAvatarPopupOpen, setEditAvatarPopupOpen ] = useState( false );\n  const [ isOpen, setIsOpen ] = useState( false );\n  const [ selectedCard, setCard ] = useState( {} );\n  const [ currentUser, setCurrentUser ] = useState( {} );\n  const [ cards, setCards ] = useState( [] );\n  \n  //effects\n  useEffect( () => {\n    api.getUserInfo()\n      .then( ( res ) => {\n        setCurrentUser( res );\n      } )\n      .catch( error => console.log( error ) );\n  }, [] );\n  \n  useEffect( () => {\n    api.getCard()\n      .then( ( data ) => {\n        setCards( data )\n      } )\n      .catch( error => console.log( error ) );\n  }, [] );\n  \n  //handles functions\n  const closeAllPopups = ( setOpen ) => {\n    setOpen( false );\n  };\n  \n  const handleEditProfileClick = () => {\n    setEditProfileClick( true );\n  };\n  \n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen( true );\n  };\n  \n  const handleAvatarClick = () => {\n    setEditAvatarPopupOpen( true );\n  };\n  \n  const handleSelectCard = ( data ) => {\n    setCard( data );\n    setIsOpen( true );\n  };\n  \n  const handleUpdateUser = ( data ) => {\n    api.setUserInfo( data )\n      .then( res => {\n        setCurrentUser( res );\n      } )\n      .catch( error => console.log( error ) )\n      .finally( () => {\n        closeAllPopups( setEditProfileClick );\n      } );\n  };\n  \n  const handleUpdateAvatar = ( data ) => {\n    api.setUserAvatar( data )\n      .then( res => {\n        setCurrentUser( res );\n      } )\n      .catch( error => console.log( error ) )\n      .finally( () => {\n        closeAllPopups( setEditAvatarPopupOpen );\n      } )\n  };\n  \n  const handleAddPlaceSubmit = ( data ) => {\n    api.addCard( data )\n      .then( ( newCard ) => {\n        setCards( ( cards ) => {\n          return [ newCard, ...cards ]\n        } );\n      } )\n      .catch( error => console.log( error ) )\n      .finally( () => {\n        closeAllPopups( setAddPlacePopupOpen );\n      } )\n  };\n  \n  const handleCardLike = ( card ) => {\n    const { likes, _id: cardId } = card;\n    const isLiked = likes.some( i => i._id === currentUser._id );\n    api.changeLikeCardStatus( cardId, !isLiked )\n      .then( ( newCard ) => {\n        const newCards = cards.map( ( c ) => c._id === cardId ? newCard : c );\n        setCards( newCards );\n      } )\n      .catch( error => console.log( error ) );\n  };\n  \n  const handleCardDelete = ( id ) => {\n    api.deleteCard( id )\n      .then( _ => {\n        const newCards = cards.filter( ( card ) => id !== card._id )\n        setCards( newCards );\n      } )\n      .catch( error => console.log( error ) );\n  };\n  \n  return (\n    <CurrentUserContext.Provider value={ currentUser }>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Header/>\n          <Main\n            onEditProfile={ () => handleEditProfileClick() }\n            onAddPlace={ () => handleAddPlaceClick() }\n            onEditAvatar={ () => handleAvatarClick( true ) }\n            onCardClick={ ( data ) => handleSelectCard( data ) }\n            cards={ cards }\n            onCardDelete={ handleCardDelete }\n            onCardLike={ handleCardLike }/>\n          <Footer/>\n          <EditProfilePopup\n            isOpen={ isEditProfilePopupOpen }\n            onClose={ () => closeAllPopups( setEditProfileClick ) }\n            onUpdateUser={ handleUpdateUser }/>\n          <EditAvatarPopup\n            isOpen={ isEditAvatarPopupOpen }\n            onClose={ () => closeAllPopups( setEditAvatarPopupOpen ) }\n            onUpdateAvatar={ handleUpdateAvatar }/>\n          <AddPlacePopup\n            isOpen={ isAddPlacePopupOpen }\n            onClose={ () => closeAllPopups( setAddPlacePopupOpen ) }\n            onAddPlace={ handleAddPlaceSubmit }/>\n          <ImagePopup\n            isOpen={ isOpen }\n            selectedCard={ selectedCard }\n            onClose={ () => closeAllPopups( setIsOpen ) }/>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\"\nimport App from \"./components/App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById( \"root\" )\n);\n"],"sourceRoot":""}